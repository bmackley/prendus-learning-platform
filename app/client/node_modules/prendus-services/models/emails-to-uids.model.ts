import {FirebaseService} from '../services/firebase.service.ts';

const dataPath = 'emailsToUids';

const setUidByEmail = async (email: string, uid: string) => {
    try {
        const encodedEmail = btoa(email);
        const path = `${dataPath}/${encodedEmail}`;
        await FirebaseService.set(path, uid);
    }
    catch(error) {
        throw error;
    }
};

const getUidByEmail = async (email: string) => {
    try {
        const encodedEmail = btoa(email);
        const path = `${dataPath}/${encodedEmail}`;
        const uid = await FirebaseService.get(path);

        return uid;
    }
    catch(error) {
        throw error;
    }
};

export const EmailsToUidsModel = {
    setUidByEmail,
    getUidByEmail
};
