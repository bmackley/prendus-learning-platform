<link href="../../bower_components/polymer/polymer.html" rel="import">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-dropdown/iron-dropdown.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/prendus-styles/prendus-styles.html">
<link rel="import" href="../../bower_components/prendus-styles/components/prendus-drop-down.html">

<dom-module id="prendus-navbar">

  <style include="prendus-styles">

		.navbar-text {
			color: white;
		}

		a:hover {
			text-decoration: none;
		}

		a, a:visited {
			color: currentColor;
		}

		#logo {
			height: 50px;
		}

    #home-link {
      margin-right: auto;
    }

  </style>

  <template>

    <redux-store on-statechange="mapStateToThis" action="[[action]]"></redux-store>
    <paper-header-panel>
        <paper-toolbar>
          <a id="home-link" href="/"><img id="logo" src="../../images/navbar-logo.png" alt="Prendus"></a>
          <template is="dom-if" if="[[username]]">
						<prendus-drop-down button-text="[[username]]" button-type="recommended" button-title="Your account and courses" horizontal-align="right" responsive>
							<a href="/profile">Your account</a>
							<a href="/courses/home">Your courses</a>
              <!--TODO temp-->
              <a href="/payment">Payment</a>
							<template is="dom-if" if="[[isAdmin]]">
								<a href="/learning-structure">Learning structure</a>
								<a href="/teacher-approval">Teacher Approval</a>
							</template>
							<button on-tap="logOutUser">Log out</button>
						</prendus-drop-down>
          </template>
          <template is="dom-if" if="[[!username]]">
            <a class="prendus-button prendus-button--recommended navbar-text" href="/login">Log In</a>
            <a class="prendus-button prendus-button--recommended navbar-text" href="/signup">Sign Up</a>
          </template>
        </paper-toolbar>
    </paper-header-panel>
  </template>

  <script src="prendus-navbar.ts"></script>
</dom-module>
