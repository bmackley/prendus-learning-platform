<link href="../../bower_components/polymer/polymer.html" rel="import">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/iron-dropdown/iron-dropdown.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="prendus-navbar">
  <style>

    a {
      color: currentColor;
      text-decoration: none;
    }

    #home-button {
      font-size: 1.3em;
      font-weight: 100;
      margin-right: auto;
    }

    paper-item:hover {
      background-color: rgba(0, 0, 0, 0.2);
    }

    #menu-holder {
      border: solid pink 1px;
    }

  </style>

  <template>

    <redux-store on-statechange="mapStateToThis" action="[[action]]"></redux-store>
    <paper-header-panel>
        <paper-toolbar>
          <a id="home-button" href="/">Prendus</a>
          <template is="dom-if" if="{{username}}">
            <paper-button id="menu-button" on-tap="openDropdown" noink>Menu</paper-button>
            <iron-dropdown id="menu-items" horizontal-align="right" no-auto-focus position-target="[[getMenuButton(menuHolder)]]">
              <paper-listbox class="dropdown-content" id="user-menu-listbox">
                <paper-item><paper-button class="route" id="/profile" on-tap="changeURL">Account</paper-button></paper-item>
                <paper-item><paper-button class="route" id="/courses/home" on-tap="changeURL">Courses</paper-button></paper-item>
                <paper-item><paper-button class="route" id="/login" on-tap="logOutUser">Logout</paper-button></paper-item>
              </paper-listbox>
            </iron-dropdown>
            <div id="menu-holder">
            </div>
          </template>
          <template is="dom-if" if="{{!username}}">
            <paper-button class="route" id="login" on-tap="changeURL">Login</paper-button>
            <paper-button class="route" id="signup" on-tap="changeURL">Sign Up</paper-button>
          </template>
        </paper-toolbar>
    </paper-header-panel>
  </template>

</dom-module>
